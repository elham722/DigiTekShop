/* ==========================================================================
   Dark Theme
   تم تیره
========================================================================== */

@media (prefers-color-scheme: dark) {
  :root {
    --bs-body-color: #{$text-light};
    --bs-body-bg: #{$dark};
    --bs-emphasis-color: #{$text-light};
    --bs-secondary-color: rgba(255, 255, 255, 0.75);
    --bs-tertiary-color: rgba(255, 255, 255, 0.5);
    --bs-primary: #{$primary};
    --bs-secondary: #{$secondary};
    --bs-success: #{$success};
    --bs-info: #{$info};
    --bs-warning: #{$warning};
    --bs-danger: #{$danger};
    --bs-light: #{$light};
    --bs-dark: #{$dark};
    --bs-primary-rgb: #{to-rgb($primary)};
    --bs-secondary-rgb: #{to-rgb($secondary)};
    --bs-success-rgb: #{to-rgb($success)};
    --bs-info-rgb: #{to-rgb($info)};
    --bs-warning-rgb: #{to-rgb($warning)};
    --bs-danger-rgb: #{to-rgb($danger)};
    --bs-light-rgb: #{to-rgb($light)};
    --bs-dark-rgb: #{to-rgb($dark)};
    --bs-white-rgb: 255, 255, 255;
    --bs-black-rgb: 0, 0, 0;
    --bs-body-color-rgb: #{to-rgb($text-light)};
    --bs-body-bg-rgb: #{to-rgb($dark)};
  }
}

[data-bs-theme="dark"] {
  --bs-body-color: #{$text-light};
  --bs-body-bg: #{$dark};
  --bs-emphasis-color: #{$text-light};
  --bs-secondary-color: rgba(255, 255, 255, 0.75);
  --bs-tertiary-color: rgba(255, 255, 255, 0.5);
  --bs-primary: #{$primary};
  --bs-secondary: #{$secondary};
  --bs-success: #{$success};
  --bs-info: #{$info};
  --bs-warning: #{$warning};
  --bs-danger: #{$danger};
  --bs-light: #{$light};
  --bs-dark: #{$dark};
  --bs-primary-rgb: #{to-rgb($primary)};
  --bs-secondary-rgb: #{to-rgb($secondary)};
  --bs-success-rgb: #{to-rgb($success)};
  --bs-info-rgb: #{to-rgb($info)};
  --bs-warning-rgb: #{to-rgb($warning)};
  --bs-danger-rgb: #{to-rgb($danger)};
  --bs-light-rgb: #{to-rgb($light)};
  --bs-dark-rgb: #{to-rgb($dark)};
  --bs-white-rgb: 255, 255, 255;
  --bs-black-rgb: 0, 0, 0;
  --bs-body-color-rgb: #{to-rgb($text-light)};
  --bs-body-bg-rgb: #{to-rgb($dark)};
}

/* ==========================================================================
   Dark Mode Body
========================================================================= */
body.dark-mode {
  background-color: $dark;
  color: $text-light;

  /* ==========================================================================
     Dark Mode Header
  ========================================================================== */
  .page-header {
    background-color: lighten($dark, 5%);
    border-bottom-color: lighten($dark, 10%);

    .page-header--top {
      background-color: lighten($dark, 3%);
    }

    .page-header--middle {
      background-color: lighten($dark, 5%);
      border-bottom-color: lighten($dark, 10%);

      .search-container {
        .search-form {
          background-color: lighten($dark, 8%);
          border-color: lighten($dark, 15%);

          .search-field {
            background-color: transparent;
            color: $text-light;

            &::placeholder {
              color: rgba(255, 255, 255, 0.6);
            }
          }
        }

        .search-result-container {
          background-color: lighten($dark, 8%);
          border-color: lighten($dark, 15%);

          .search-result-items {
            li {
              border-bottom-color: lighten($dark, 10%);

              a {
                color: $text-light;

                &:hover {
                  background-color: lighten($dark, 12%);
                  color: $primary;
                }
              }
            }
          }
        }
      }

      .user-option {
        .user-option-btn {
          color: $text-light;

          &:hover {
            background-color: lighten($dark, 10%);
            color: $primary;
          }
        }

        .user-option--dropdown {
          background-color: lighten($dark, 8%);
          border-color: lighten($dark, 15%);

          .dropdown-item {
            color: $text-light;
            border-bottom-color: lighten($dark, 10%);

            &:hover {
              background-color: lighten($dark, 12%);
              color: $primary;
            }
          }
        }
      }
    }

    .page-header--bottom {
      background-color: lighten($dark, 5%);
      border-bottom-color: lighten($dark, 10%);

      .main-navigation {
        .nav-item {
          .nav-link {
            color: $text-light;

            &:hover {
              color: $primary;
            }

            &.active {
              color: $primary;
            }
          }
        }
      }
    }
  }

  /* ==========================================================================
     Dark Mode Footer
  ========================================================================== */
  .page-footer {
    background-color: lighten($dark, 3%);
    border-top-color: lighten($dark, 10%);

    .footer-logo-area {
      border-bottom-color: lighten($dark, 10%);
    }

    .footer-widgets {
      border-bottom-color: lighten($dark, 10%);

      .footer-widget {
        .widget-title {
          color: $text-light;
        }

        .widget-content {
          color: rgba(255, 255, 255, 0.8);

          ul {
            li {
              a {
                color: rgba(255, 255, 255, 0.8);

                &:hover {
                  color: $primary;
                }
              }
            }
          }
        }
      }
    }

    .footer-newsletter {
      background-color: lighten($dark, 5%);
      border-bottom-color: lighten($dark, 10%);

      .newsletter-container {
        .newsletter-info {
          .newsletter-title {
            color: $text-light;
          }

          .newsletter-description {
            color: rgba(255, 255, 255, 0.8);
          }
        }

        .newsletter-form {
          form {
            .newsletter-input {
              background-color: lighten($dark, 8%);
              border-color: lighten($dark, 15%);
              color: $text-light;

              &::placeholder {
                color: rgba(255, 255, 255, 0.6);
              }

              &:focus {
                border-color: $primary;
              }
            }
          }
        }
      }
    }

    .footer-social {
      border-bottom-color: lighten($dark, 10%);

      .social-container {
        .social-title {
          color: $text-light;
        }

        .social-links {
          .social-link {
            background-color: lighten($dark, 8%);
            color: rgba(255, 255, 255, 0.8);

            &:hover {
              background-color: $primary;
              color: $text-light;
            }
          }
        }
      }
    }

    .footer-trust {
      border-bottom-color: lighten($dark, 10%);

      .trust-symbols {
        .trust-symbol {
          background-color: lighten($dark, 8%);
          border-color: lighten($dark, 15%);

          &:hover {
            border-color: $primary;
          }
        }
      }
    }

    .footer-copyright {
      background-color: lighten($dark, 2%);

      .copyright-container {
        .copyright-text {
          color: rgba(255, 255, 255, 0.8);
        }

        .footer-links {
          .footer-link {
            color: rgba(255, 255, 255, 0.8);

            &:hover {
              color: $primary;
            }
          }
        }
      }
    }
  }

  /* ==========================================================================
     Dark Mode Cards
  ========================================================================== */
  .card {
    background-color: lighten($dark, 5%);
    border-color: lighten($dark, 10%);
    color: $text-light;
  }

  /* ==========================================================================
     Dark Mode Forms
  ========================================================================== */
  .form-control {
    background-color: lighten($dark, 8%);
    border-color: lighten($dark, 15%);
    color: $text-light;

    &::placeholder {
      color: rgba(255, 255, 255, 0.6);
    }

    &:focus {
      background-color: lighten($dark, 8%);
      border-color: $primary;
      color: $text-light;
    }
  }

  .form-select {
    background-color: lighten($dark, 8%);
    border-color: lighten($dark, 15%);
    color: $text-light;

    &:focus {
      border-color: $primary;
    }
  }

  /* ==========================================================================
     Dark Mode Buttons
  ========================================================================== */
  .btn-outline-primary {
    color: $primary;
    border-color: $primary;

    &:hover {
      background-color: $primary;
      border-color: $primary;
      color: $text-light;
    }
  }

  .btn-outline-secondary {
    color: $secondary;
    border-color: $secondary;

    &:hover {
      background-color: $secondary;
      border-color: $secondary;
      color: $text-light;
    }
  }

  /* ==========================================================================
     Dark Mode Tables
  ========================================================================== */
  .table {
    color: $text-light;

    th,
    td {
      border-color: lighten($dark, 10%);
    }

    thead th {
      border-bottom-color: lighten($dark, 15%);
    }
  }

  .table-striped > tbody > tr:nth-of-type(odd) > td,
  .table-striped > tbody > tr:nth-of-type(odd) > th {
    background-color: lighten($dark, 3%);
  }

  /* ==========================================================================
     Dark Mode Modals
  ========================================================================== */
  .modal-content {
    background-color: lighten($dark, 5%);
    border-color: lighten($dark, 10%);
    color: $text-light;
  }

  .modal-header {
    border-bottom-color: lighten($dark, 10%);
  }

  .modal-footer {
    border-top-color: lighten($dark, 10%);
  }

  /* ==========================================================================
     Dark Mode Dropdowns
  ========================================================================== */
  .dropdown-menu {
    background-color: lighten($dark, 8%);
    border-color: lighten($dark, 15%);

    .dropdown-item {
      color: $text-light;

      &:hover {
        background-color: lighten($dark, 12%);
        color: $primary;
      }
    }

    .dropdown-divider {
      border-top-color: lighten($dark, 15%);
    }
  }

  /* ==========================================================================
     Dark Mode Navigation
  ========================================================================== */
  .navbar {
    background-color: lighten($dark, 5%);
    border-bottom-color: lighten($dark, 10%);

    .navbar-brand {
      color: $text-light;
    }

    .navbar-nav {
      .nav-link {
        color: $text-light;

        &:hover {
          color: $primary;
        }
      }
    }
  }

  /* ==========================================================================
     Dark Mode Alerts
  ========================================================================== */
  .alert {
    background-color: lighten($dark, 8%);
    border-color: lighten($dark, 15%);
    color: $text-light;
  }

  /* ==========================================================================
     Dark Mode List Groups
  ========================================================================== */
  .list-group-item {
    background-color: lighten($dark, 5%);
    border-color: lighten($dark, 10%);
    color: $text-light;

    &:hover {
      background-color: lighten($dark, 8%);
    }
  }

  /* ==========================================================================
     Dark Mode Pagination
  ========================================================================== */
  .pagination {
    .page-link {
      background-color: lighten($dark, 8%);
      border-color: lighten($dark, 15%);
      color: $text-light;

      &:hover {
        background-color: lighten($dark, 12%);
        border-color: lighten($dark, 20%);
        color: $primary;
      }
    }

    .page-item.active .page-link {
      background-color: $primary;
      border-color: $primary;
      color: $text-light;
    }
  }

  /* ==========================================================================
     Dark Mode Breadcrumb
  ========================================================================== */
  .breadcrumb {
    background-color: lighten($dark, 8%);

    .breadcrumb-item {
      a {
        color: $text-light;

        &:hover {
          color: $primary;
        }
      }

      &.active {
        color: rgba(255, 255, 255, 0.8);
      }
    }
  }

  /* ==========================================================================
     Dark Mode Progress
  ========================================================================== */
  .progress {
    background-color: lighten($dark, 10%);
  }

  /* ==========================================================================
     Dark Mode Tooltips
  ========================================================================== */
  .tooltip {
    .tooltip-inner {
      background-color: lighten($dark, 15%);
      color: $text-light;
    }

    .tooltip-arrow {
      &::before {
        border-top-color: lighten($dark, 15%);
        border-bottom-color: lighten($dark, 15%);
        border-left-color: lighten($dark, 15%);
        border-right-color: lighten($dark, 15%);
      }
    }
  }

  /* ==========================================================================
     Dark Mode Popovers
  ========================================================================== */
  .popover {
    background-color: lighten($dark, 8%);
    border-color: lighten($dark, 15%);
    color: $text-light;

    .popover-header {
      background-color: lighten($dark, 5%);
      border-bottom-color: lighten($dark, 10%);
      color: $text-light;
    }

    .popover-body {
      color: $text-light;
    }

    .popover-arrow {
      &::before {
        border-top-color: lighten($dark, 15%);
        border-bottom-color: lighten($dark, 15%);
        border-left-color: lighten($dark, 15%);
        border-right-color: lighten($dark, 15%);
      }

      &::after {
        border-top-color: lighten($dark, 8%);
        border-bottom-color: lighten($dark, 8%);
        border-left-color: lighten($dark, 8%);
        border-right-color: lighten($dark, 8%);
      }
    }
  }
}
